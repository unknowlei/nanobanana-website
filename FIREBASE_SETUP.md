# Firebase é…ç½®æ­¥éª¤ï¼ˆå¿…é¡»å®Œæˆæ‰èƒ½ä½¿ç”¨æŠ•ç¨¿åŠŸèƒ½ï¼‰

## âš ï¸ é‡è¦ï¼šå¿…é¡»é…ç½®å®‰å…¨è§„åˆ™

å½“å‰æŠ•ç¨¿åŠŸèƒ½æ— æ³•ä½¿ç”¨çš„åŸå› æ˜¯ Firebase é»˜è®¤æ‹’ç»æ‰€æœ‰è¯»å†™æ“ä½œã€‚

## ğŸ”§ é…ç½®æ­¥éª¤

### 1. é…ç½® Firestore å®‰å…¨è§„åˆ™

1. è®¿é—® [Firebase Console](https://console.firebase.google.com/)
2. é€‰æ‹©é¡¹ç›®ï¼š`nano-banana-d0fe0`
3. å·¦ä¾§èœå•é€‰æ‹© **Firestore Database**
4. ç‚¹å‡»é¡¶éƒ¨ **è§„åˆ™** æ ‡ç­¾
5. å°†è§„åˆ™æ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹ï¼š

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // å…è®¸æ‰€æœ‰äººè¯»å†™ pending_submissionsï¼ˆæµ‹è¯•ç”¨ï¼‰
    match /pending_submissions/{document=**} {
      allow read, write: if true;
    }
  }
}
```

6. ç‚¹å‡» **å‘å¸ƒ** æŒ‰é’®
7. ç­‰å¾…å‡ ç§’é’Ÿè®©è§„åˆ™ç”Ÿæ•ˆ

### 2. åˆ›å»º Firestore ç´¢å¼•ï¼ˆå¯é€‰ï¼Œä½†æ¨èï¼‰

1. åœ¨ Firestore Database é¡µé¢
2. ç‚¹å‡» **ç´¢å¼•** æ ‡ç­¾
3. ç‚¹å‡» **åˆ›å»ºç´¢å¼•**
4. é…ç½®ï¼š
   - é›†åˆID: `pending_submissions`
   - å­—æ®µ1: `status` (å‡åº)
   - å­—æ®µ2: `createdAt` (é™åº)
   - æŸ¥è¯¢èŒƒå›´: Collection
5. ç‚¹å‡» **åˆ›å»º**
6. ç­‰å¾…ç´¢å¼•æ„å»ºå®Œæˆï¼ˆé€šå¸¸1-5åˆ†é’Ÿï¼‰

### 3. éªŒè¯é…ç½®

é…ç½®å®Œæˆåï¼š
1. åˆ·æ–°ç½‘ç«™
2. å°è¯•æŠ•ç¨¿
3. åº”è¯¥èƒ½çœ‹åˆ° "ğŸ‰ æŠ•ç¨¿æˆåŠŸï¼" çš„æç¤º

## ğŸ”’ ç”Ÿäº§ç¯å¢ƒå®‰å…¨è§„åˆ™ï¼ˆéƒ¨ç½²å‰ä¿®æ”¹ï¼‰

æµ‹è¯•å®Œæˆåï¼Œå°†è§„åˆ™æ”¹ä¸ºæ›´å®‰å…¨çš„ç‰ˆæœ¬ï¼š

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /pending_submissions/{document=**} {
      // å…è®¸æ‰€æœ‰äººåˆ›å»ºæŠ•ç¨¿
      allow create: if true;
      // åªå…è®¸è®¤è¯ç”¨æˆ·è¯»å–ã€æ›´æ–°ã€åˆ é™¤
      allow read, update, delete: if request.auth != null;
    }
  }
}
```

## ğŸ“ æµ‹è¯•æŠ•ç¨¿åŠŸèƒ½

### æ–¹æ³•1ï¼šä½¿ç”¨ Vercel Devï¼ˆå½“å‰ï¼‰
```bash
vercel dev
```
è®¿é—® http://localhost:3000

### æ–¹æ³•2ï¼šä½¿ç”¨ Vite Dev Server
```bash
npm run dev
```
è®¿é—® http://localhost:5173

### æ–¹æ³•3ï¼šéƒ¨ç½²åˆ° Vercel é¢„è§ˆç¯å¢ƒ
```bash
vercel
```
ä¼šç”Ÿæˆä¸€ä¸ªé¢„è§ˆé“¾æ¥ï¼Œå¯ä»¥åœ¨çº¿æµ‹è¯•

## â“ å¸¸è§é—®é¢˜

### Q: æŠ•ç¨¿ä¸€ç›´æ˜¾ç¤º"æŠ•ç¨¿ä¸­"
**A:** æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰ï¼Œå¦‚æœçœ‹åˆ° "permission-denied" é”™è¯¯ï¼Œè¯´æ˜å®‰å…¨è§„åˆ™æœªé…ç½®ã€‚

### Q: æ˜¾ç¤º "The query requires an index"
**A:** éœ€è¦åˆ›å»ºç´¢å¼•ï¼ˆè§ä¸Šæ–¹æ­¥éª¤2ï¼‰ï¼Œæˆ–è€…ä»£ç å·²æ”¹ä¸ºå®¢æˆ·ç«¯æ’åºï¼Œå¯ä»¥å¿½ç•¥ã€‚

### Q: ç®¡ç†å‘˜çœ‹ä¸åˆ°æŠ•ç¨¿
**A:** ç¡®ä¿ï¼š
1. å·²åˆ‡æ¢åˆ°ç®¡ç†å‘˜æ¨¡å¼
2. ç‚¹å‡»äº†æ—¶é’Ÿå›¾æ ‡æ‰“å¼€å¾…å®¡æ ¸é¢æ¿
3. Firebase ä¸­ç¡®å®æœ‰æ•°æ®ï¼ˆå¯åœ¨ Firebase Console æŸ¥çœ‹ï¼‰

## ğŸš€ éƒ¨ç½²åçš„ä½¿ç”¨

éƒ¨ç½²åˆ° Vercel åï¼ŒæŠ•ç¨¿åŠŸèƒ½ä¼šæ­£å¸¸å·¥ä½œï¼Œåªè¦ï¼š
1. âœ… Firebase å®‰å…¨è§„åˆ™å·²é…ç½®
2. âœ… Firebase ç´¢å¼•å·²åˆ›å»ºï¼ˆå¯é€‰ï¼‰
3. âœ… ç½‘ç«™èƒ½è®¿é—® Firebase API

ä¸éœ€è¦ä»»ä½•é¢å¤–é…ç½®ï¼
